/* -------------------------------------------------------------------------
 * Event Espresso Recurring_Events Stylesheet
 * (c) 2018 Event Espresso
 * -------------------------------------------------------------------------*/
@import '~@eventespresso/styles/src';

.rrule-generator {
	&-wrapper {
		display: flex;
		margin: 0 auto;
		max-width: 900px;

		.rrule-generator {
			flex: 0 1 75%;
		}

		*,
		::before,
		::after {
			box-sizing: border-box !important;
		}

		.form-group {
			margin: 1.5rem 0;
		}

		.row {
			display: flex;
			flex-wrap: wrap;
			margin-right: -15px;
			margin-left: -15px;
		}

		.col-form-label {
			padding-top: calc(0.375rem + 1px);
			padding-bottom: calc(0.375rem + 1px);
			margin-bottom: 0;

			line-height: 1.5;
		}

		label {
			display: inline-block;
			margin-bottom: 0.5rem;
		}

		.form-control {
			&::placeholder,
			&::-moz-placeholder {
				color: #a9aba6;
				opacity: 1;
			}
		}

		select.form-control:not([size]):not([multiple]) {
			height: calc(2.25rem + 2px);
		}

		.form-control {
			display: block;
			width: 100%;
			padding: 0.375rem 0.75rem;
			font-size: 1rem;
			line-height: 1.5;
			color: #58575c;
			background-color: #fff;
			background-clip: padding-box;
			border: 1px solid #b3b3b3;
			border-radius: 0.25rem;
			@include transition(border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out);
		}

		button,
		select {
			text-transform: none;
		}

		input,
		button,
		select,
		optgroup,
		textarea {
			margin: 0;
			line-height: inherit;
		}

		.align-items-sm-center {
			-ms-flex-align: center !important;
			align-items: center !important;
		}

		.d-flex {
			display: -ms-flexbox !important;
			display: flex !important;
		}

		.btn {
			display: inline-block;
			font-weight: 400;
			text-align: center;
			white-space: nowrap;
			vertical-align: middle;
			min-width: 55px !important;
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			border: 1px solid transparent;
			padding: 0.375rem 0.75rem;
			font-size: 1rem;
			line-height: 1.5;
			border-radius: 0.25rem;
			@include transition(
				color 0.05s ease-in-out,
				background-color 0.05s ease-in-out,
				border-color 0.05s ease-in-out,
				box-shadow 0.05s ease-in-out
			);
		}

		.btn-group {
			&.offset-sm-2 {
				min-width: 224px;
			}

			position: relative;
			display: -ms-inline-flexbox;
			display: inline-flex;
			vertical-align: middle;
		}

		.btn-group-vertical {
			position: relative;
			display: -ms-inline-flexbox;
			display: inline-flex;
			vertical-align: middle;
		}

		.btn-group > .btn,
		.btn-group-vertical > .btn {
			position: relative;
			-ms-flex: 0 1 auto;
			flex: 0 1 auto;
		}

		.btn-group {
			.btn + {
				.btn,
				.btn-group {
					margin-left: -1px;
				}
			}

			.btn-group + {
				.btn,
				.btn-group {
					margin-left: -1px;
				}
			}
		}

		.btn-group-vertical {
			.btn + .btn,
			.btn-group + .btn,
			.btn + .btn-group,
			.btn-group + .btn-group {
				margin-left: -1px;
			}
		}

		.btn-group > .btn:hover,
		.btn-group-vertical > .btn:hover {
			z-index: 1;
		}

		.btn-group {
			> {
				.btn:not(:last-child):not(.dropdown-toggle),
				.btn-group:not(:last-child) > .btn {
					border-top-right-radius: 0;
					border-bottom-right-radius: 0;
				}

				.btn:not(:first-child),
				.btn-group:not(:first-child) > .btn {
					border-top-left-radius: 0;
					border-bottom-left-radius: 0;
				}

				.btn:first-child {
					margin-left: 0;
				}
			}

			label.btn {
				margin: 0;
			}
		}

		.btn:not(:disabled):not(.disabled) {
			cursor: pointer;
		}

		.btn-primary {
			color: inherit;
			background-color: #fff;
			border-color: #e7e6e4;
		}

		.show > .btn-primary.dropdown-toggle {
			color: #fff;
			background-color: #3297c3;
			border-color: #3297c3;
		}

		.btn-primary {
			&:not(:disabled):not(.disabled) {
				&.active {
					color: #fff;
					background-color: #3297c3;
					border-color: #3297c3;
				}

				&:active {
					color: #fff;
					background-color: #36a6d6;
					border-color: #36a6d6;
				}
			}

			input {
				display: none;
				visibility: hidden;
			}
		}
	}

	/* Calendar Styles
   * -------------------------------------------------------------------------*/

	.rrule-generator-wrapper {
		.rdtOpen .rdtPicker {
			display: block;
		}

		.rdtPicker {
			display: none;
			position: absolute;
			width: 250px;
			padding: 4px;
			margin-top: 1px;
			z-index: 99999 !important;
			background: #fff;
			border: 1px solid #e7e6e4;
			box-shadow: 0 5px 5px rgba(0, 0, 0, 0.5), 0 0 25px 15px rgba(0, 0, 0, 0.05);
		}

		table {
			border-collapse: collapse;
		}

		th {
			text-align: inherit;
		}

		.rdtPicker {
			table {
				width: 100%;
				margin: 0;
			}

			td {
				text-align: center;
				height: 28px;
			}

			th {
				text-align: center;
				height: 28px;
				border-bottom: 1px solid #e7e6e4;
			}

			td,
			thead tr:first-child th {
				cursor: pointer;
			}

			th {
				&.rdtNext,
				&.rdtPrev {
					font-size: 21px;
					vertical-align: top;
				}
			}
		}

		.rdtPrev span,
		.rdtNext span {
			display: block;
			-webkit-touch-callout: none;
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
		}

		.rdtPicker {
			thead tr:first-child th {
				cursor: pointer;
			}

			th.rdtSwitch {
				width: 100px;
			}

			.dow {
				width: 14.2857%;
				border-bottom: none;
			}

			td {
				&.rdtOld,
				&.rdtNew {
					color: #a9aba6;
				}

				&.rdtActive.rdtToday::before {
					border-bottom-color: #fff;
				}

				&.rdtToday::before {
					content: '';
					display: inline-block;
					border-left: 7px solid transparent;
					border-bottom: 7px solid #3297c3;
					border-top-color: #b3b3b3;
					position: absolute;
					bottom: 4px;
					right: 4px;
				}

				&.rdtActive {
					background-color: #3297c3;
					color: #fff;
					text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
				}
			}
		}
	}

	.rdtPicker td.rdtActive:hover {
		background-color: #3297c3;
		color: #fff;
		text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
	}

	.rrule-generator-wrapper .rdtPicker td.rdtToday {
		position: relative;
	}

	/* Media Queries for smaller screens
	* -------------------------------------------------------------------------*/

	@media only screen and (max-width: 1280px) {
		.components-modal__frame.ee-edit-event-date-recurrence {
			height: 90%;
			max-width: 100%;
			transform: translate(-50%, -5%);
			top: 10%;
			width: 80%;
		}
	}

	@media only screen and (max-width: 767px) {
		.components-modal__frame.ee-edit-event-date-recurrence {
			height: 90%;
			max-width: 100%;
			transform: translate(-50%, -5%);
			top: 10%;
			width: 90%;
		}
	}

	@media only screen and (max-width: 600px) and (min-width: 481px) {
		.components-modal__frame.ee-edit-event-date-recurrence {
			height: 95%;
			max-width: 95%;
			transform: translate(-50%, -2.5%);
			top: 2.5%;
			width: 95%;
		}
	}

	@media only screen and (max-width: 540px) and (min-width: 480px) {
		.components-modal__frame.ee-edit-event-date-recurrence {
			height: 100%;
			max-width: 100%;
			transform: none;
			top: 0;
			width: 100%;
		}
	}

	@media only screen and (max-width: 480px) {
		.components-modal__frame.ee-edit-event-date-recurrence {
			height: 100%;
			max-width: 100%;
			transform: none;
			top: 0;
			width: 100%;
		}
	}
}
