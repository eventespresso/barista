/* -------------------------------------------------------------------------
 * Event Espresso Recurring_Events Stylesheet
 * (c) 2018 Event Espresso
 * -------------------------------------------------------------------------*/
@import '~@eventespresso/styles/src/mixins/breakpoints';
@import '~@eventespresso/styles/src/mixins/transition';

.rrule-generator {
	&-wrapper {
		display: flex;
		margin: 0 auto;
		max-width: 900px;

		/* will only target the max dates warning notification */
		.ee-inline-notification {
			margin-block-start: var(--ee-margin-default);
			margin-block-end: var(--ee-margin-tiny);
			margin-inline-start: auto;
		}

		.rrule-generator {
			flex: 0 1 75%;
		}

		*,
		::before,
		::after {
			box-sizing: border-box !important;
		}

		.form-group {
			margin: 1.5rem 0;
		}

		.row {
			display: flex;
			flex-wrap: wrap;
			margin-right: -15px;
			margin-left: -15px;
		}

		.form-control {
			&::placeholder,
			&::-moz-placeholder {
				color: #a9aba6;
				opacity: 1;
			}
		}

		select.form-control:not([size]):not([multiple]) {
			height: calc(2.25rem + 2px);
		}

		.form-control {
			display: block;
			width: 100%;
			padding: 0.375rem 0.75rem;
			font-size: 1rem;
			line-height: 1.5;
			color: #58575c;
			background-color: #fff;
			background-clip: padding-box;
			border: 1px solid #b3b3b3;
			border-radius: 0.25rem;
			@include transition(border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out);
		}

		button,
		select {
			text-transform: none;
		}

		input,
		button,
		select,
		optgroup,
		textarea {
			margin: 0;
			line-height: inherit;
		}
	}

	/* Calendar Styles
   * -------------------------------------------------------------------------*/

	.rrule-generator-wrapper {
		.rdtOpen .rdtPicker {
			display: block;
		}

		.rdtPicker {
			display: none;
			position: absolute;
			width: 250px;
			padding: 4px;
			margin-top: 1px;
			z-index: 99999 !important;
			background: #fff;
			border: 1px solid #e7e6e4;
			box-shadow: 0 5px 5px rgba(0, 0, 0, 0.5), 0 0 25px 15px rgba(0, 0, 0, 0.05);
		}

		table {
			border-collapse: collapse;
		}

		th {
			text-align: inherit;
		}

		.rdtPicker {
			table {
				width: 100%;
				margin: 0;
			}

			td {
				text-align: center;
				height: 28px;
			}

			th {
				text-align: center;
				height: 28px;
				border-bottom: 1px solid #e7e6e4;
			}

			td,
			thead tr:first-child th {
				cursor: pointer;
			}

			th {
				&.rdtNext,
				&.rdtPrev {
					font-size: 21px;
					vertical-align: top;
				}
			}
		}

		.rdtPrev span,
		.rdtNext span {
			display: block;
			-webkit-touch-callout: none;
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
		}

		.rdtPicker {
			thead tr:first-child th {
				cursor: pointer;
			}

			th.rdtSwitch {
				width: 100px;
			}

			.dow {
				width: 14.2857%;
				border-bottom: none;
			}

			td {
				&.rdtOld,
				&.rdtNew {
					color: #a9aba6;
				}

				&.rdtActive.rdtToday::before {
					border-bottom-color: #fff;
				}

				&.rdtToday::before {
					content: '';
					display: inline-block;
					border-left: 7px solid transparent;
					border-bottom: 7px solid #3297c3;
					border-top-color: #b3b3b3;
					position: absolute;
					bottom: 4px;
					right: 4px;
				}

				&.rdtActive {
					background-color: #3297c3;
					color: #fff;
					text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
				}
			}
		}
	}

	.rdtPicker td.rdtActive:hover {
		background-color: #3297c3;
		color: #fff;
		text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
	}

	.rrule-generator-wrapper .rdtPicker td.rdtToday {
		position: relative;
	}

	/* Media Queries for smaller screens
	* -------------------------------------------------------------------------*/

	@media only screen and (max-width: 1280px) {
		.components-modal__frame.ee-edit-event-date-recurrence {
			height: 90%;
			max-width: 100%;
			transform: translate(-50%, -5%);
			top: 10%;
			width: 80%;
		}
	}

	@media only screen and (max-width: 767px) {
		.components-modal__frame.ee-edit-event-date-recurrence {
			height: 90%;
			max-width: 100%;
			transform: translate(-50%, -5%);
			top: 10%;
			width: 90%;
		}
	}

	@media only screen and (max-width: 600px) and (min-width: 481px) {
		.components-modal__frame.ee-edit-event-date-recurrence {
			height: 95%;
			max-width: 95%;
			transform: translate(-50%, -2.5%);
			top: 2.5%;
			width: 95%;
		}
	}

	@media only screen and (max-width: 540px) and (min-width: 480px) {
		.components-modal__frame.ee-edit-event-date-recurrence {
			height: 100%;
			max-width: 100%;
			transform: none;
			top: 0;
			width: 100%;
		}
	}

	@media only screen and (max-width: 480px) {
		.components-modal__frame.ee-edit-event-date-recurrence {
			height: 100%;
			max-width: 100%;
			transform: none;
			top: 0;
			width: 100%;
		}
	}
}
